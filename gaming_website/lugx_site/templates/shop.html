{% extends 'core/base.html' %}
{% load static %}

{% block content %}

  <div class="page-heading header-text">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <h3>Our Shop</h3>
          <span class="breadcrumb"><a href="#">Home</a> > Our Shop</span>
        </div>
      </div>
    </div>
  </div>

  <div class="section trending">
    <div class="container">
      <ul class="trending-filter">
        <li>
          <a class="is_active" href="#!" data-filter="*">Show All</a>
        </li>
        {% for tag in tags %}
        <li>
          <a href="#!" data-filter=".{{ tag.name }}">{{ tag.name }}</a>
        </li>
        {% endfor %}
      </ul>
      <div class="row trending-box">
        {% for product in all_products|slice:":20" %}
        <div class="col-lg-3 col-md-6 align-self-center mb-30 trending-items col-md-6 {% for tag in product.tags.all %} {{ tag }} {% endfor %}">
          <div class="item">
            <div class="thumb">
              <a href="{% url 'product' product.id %}"><img src="{{ product.image.url }}" alt=""></a>
              <span class="price"><em>R{{ product.price }}</em>R{{ product.discount_price }}</span>
            </div>
            <div class="down-content">
              <span class="category">{{ product.Category }}</span>
              <h4>{{ product.name }}</h4>
              <a href="{% url 'product' product.id %}"><i class="fa fa-shopping-bag"></i></a>
            </div>
          </div>
        </div>
        {% endfor %}
        </div>
        <div class="row">
          <div class="col-lg-12">
            <ul class="pagination">
            <li><a href="{% url 'shop' prev_page %}"> &lt; </a></li>
              <li><a href="{% url 'shop' prev_page %}">{{ prev_page }}</a></li>
              <li><a class="is_active" href="{% url 'shop' current_page %}">{{ current_page }}</a></li>
              <li><a href="{% url 'shop' next_page %}">{{ next_page }}</a></li>
              <li><a href="{% url 'shop' next_page %}"> &gt; </a></li>
            </ul>
          </div>
      </div>
    </div>
  </div>

{% endblock %}